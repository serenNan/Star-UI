<!-- ===================================
     Tools Showcase Module
     æ‰‘å…‹ç‰Œå †å æ•ˆæœ - çœŸæ­£çš„å±…ä¸­å †å äº¤äº’
     =================================== -->

<style>
/* ===== æ¨¡å—å®¹å™¨æ ·å¼ ===== */
.tools-showcase {
  position: relative;
  padding: 120px 0;
  background: var(--color-bg);
  overflow: hidden;
}

/* ===== æ ‡é¢˜åŒºåŸŸ ===== */
.tools-showcase__header {
  text-align: center;
  margin-bottom: 40px;
}

.tools-showcase__title {
  font-size: 2.625rem;
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: 0;
  color: #FFFFFF;
}

.tools-showcase__subtitle {
  font-size: 1.2rem;
  color: var(--color-text-secondary);
  max-width: 600px;
  margin: 0 auto 16px;
}

/* ===== å·¥å…·æ ‡ç­¾æ  ===== */
.tools-showcase__tabs {
  display: flex;
  justify-content: center;
  gap: 34px;
  margin-bottom: 80px;
  flex-wrap: wrap;
}

.tools-showcase__tab {
  padding: 20px 0;
  width: 230px;
  background: rgba(255, 255, 255, 0.1);
  border: none;
  border-radius: 50px;
  color: #FFFFFF;
  font-size: 1.25rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  white-space: nowrap;
  text-align: center;
}

.tools-showcase__tab:hover {
  background: rgba(255, 255, 255, 0.18);
  color: #FFFFFF;
}

.tools-showcase__tab--active {
  background: white;
  color: black;
  border-color: transparent;
}

.tools-showcase__tab--active:hover {
  background: rgba(255, 255, 255, 0.95);
  color: black;
}

/* ===== æ‰‘å…‹ç‰Œå †å å®¹å™¨ ===== */
.tools-showcase__carousel-wrapper {
  position: relative;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto 60px;
  padding: 0 20px;
  transition: opacity 0.3s ease;
}

.tools-showcase__carousel {
  display: flex;
  align-items: center; /* ä¿æŒæ•´ä½“å±…ä¸­ */
  justify-content: center;
  gap: 2rem;
  min-height: 500px;
  position: relative;
}

/* ===== JS æ§åˆ¶çš„ç§»åŠ¨ç«¯ä¿æŠ¤æ ·å¼ï¼ˆåŒä¿é™©ï¼‰ ===== */
.tools-showcase--mobile .tools-showcase__side {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  transform: none !important;
}

.tools-showcase--mobile .tools-showcase__carousel-wrapper {
  padding: var(--spacing-xl) 0;
  max-width: 480px;
  margin: 0 auto 40px;
  width: 100%;
}

.tools-showcase--mobile .tools-showcase__carousel {
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0;
  min-height: auto;
  padding: var(--spacing-xl) var(--spacing-md);
}

.tools-showcase--mobile .tools-showcase__center {
  width: 100%;
  justify-content: center;
  align-items: center;
}

.tools-showcase--mobile .tools-showcase__card--main {
  width: min(90vw, 400px);
  max-width: 400px;
  min-height: 260px;
  margin: 0 auto;
  aspect-ratio: 16 / 9;
  height: auto;
  display: block;
}

/* ===== å·¦å³ä¸¤ä¾§å †å å®¹å™¨ - è´Ÿè¾¹è·å®ç°é‡å  ===== */
.tools-showcase__side {
  position: relative;
  z-index: 1; /* ä¸ä¸­å¤®å¡ç‰‡åŒå±‚ */
  /* ç§»é™¤ transitionï¼Œæ”¹ç”¨ JS ç›´æ¥æ§åˆ¶ä»¥å®ç°å¹³æ»‘è·Ÿéš */
  will-change: transform;
}

.tools-showcase__side.left {
  margin-right: -3rem;
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
  align-content: center;
  position: relative; /* æ”¹ä¸ºç›¸å¯¹å®šä½ï¼Œè®©å­å…ƒç´ å¯ä»¥ç‹¬ç«‹å®šä½ */
}

.tools-showcase__side.right {
  margin-left: 0.625rem; /* 10px = 0.625rem (å‡è®¾æ ¹å­—ä½“ 16px) */
  display: flex;
  align-items: flex-start;
  align-self: flex-start;
  margin-top: -1.25rem; /* -20px = -1.25rem */
}

/* ===== ä¸­å¤®å®¹å™¨ ===== */
.tools-showcase__center {
  position: relative;
  display: flex;
  align-items: center;
  gap: 1rem;
  z-index: 1; /* ä¸å·¦å³å¡ç‰‡åŒå±‚ */
}

/* ===== å¡ç‰‡æ ·å¼ ===== */
.tools-showcase__card {
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
  background: #1a1a1a;
}

.tools-showcase__card-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  user-select: none;
}

/* å°å¡ç‰‡ï¼ˆå·¦å³ä¸¤ä¾§ï¼‰*/
.tools-showcase__card--small {
  opacity: 0.6;
  transition: opacity 0.3s ease;
}

/* å·¦ä¾§ç¬¬ä¸€ä¸ªå¡ç‰‡ - æ¨ªå‘é•¿æ–¹å½¢ï¼ˆå·¦ä¸Šè§’ï¼‰*/
.tools-showcase__side.left .tools-showcase__card--small:nth-child(1) {
  width: 260px;
  height: 160px;
  position: relative;
  top: -8vh; /* ç‹¬ç«‹æ§åˆ¶ç¬¬ä¸€ä¸ªå¡ç‰‡çš„å‚ç›´ä½ç½® */
  left: -20px; /* ç‹¬ç«‹æ§åˆ¶ç¬¬ä¸€ä¸ªå¡ç‰‡çš„æ°´å¹³ä½ç½® */
}

/* å·¦ä¾§ç¬¬äºŒä¸ªå¡ç‰‡ - æ­£æ–¹å½¢ï¼ˆå·¦ä¸‹è§’ï¼‰*/
.tools-showcase__side.left .tools-showcase__card--small:nth-child(2) {
  width: 215px;
  height: 215px;
  position: relative;
  top: 70px; /* ç‹¬ç«‹æ§åˆ¶ç¬¬äºŒä¸ªå¡ç‰‡çš„å‚ç›´ä½ç½® */
  left: 5px; /* ç‹¬ç«‹æ§åˆ¶ç¬¬äºŒä¸ªå¡ç‰‡çš„æ°´å¹³ä½ç½® */
}

/* å³ä¾§å¡ç‰‡ - ç«–å‘é•¿æ–¹å½¢ */
.tools-showcase__side.right .tools-showcase__card--small {
  width: 180px;
  height: 280px;
  position: relative;
  top: -1.25rem; /* ç‹¬ç«‹æ§åˆ¶å³ä¾§å¡ç‰‡çš„å‚ç›´ä½ç½® */
  left: 10px; /* ç‹¬ç«‹æ§åˆ¶å³ä¾§å¡ç‰‡çš„æ°´å¹³ä½ç½® */
}

/* ä¸»å¡ç‰‡å®¹å™¨ - Apple å¼å¹³æ»‘ç¼©æ”¾ */
.tools-showcase__card--main {
  width: 550px;
  height: 300px; 
  border: none; /* ç§»é™¤è¾¹æ¡† */
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7); /* ä¿ç•™é˜´å½±ï¼Œç§»é™¤æ©™è‰²å…‰æ™• */
  z-index: 1; /* ä¸å·¦å³å¡ç‰‡åŒå±‚ */
  position: relative;
  overflow: hidden;
  /* ç§»é™¤ transitionï¼Œæ”¹ç”¨ JS ç›´æ¥æ§åˆ¶ä»¥å®ç°å¹³æ»‘è·Ÿéš */
  will-change: transform;
  transform: scale(1);
}

/* ä¸»å¡ç‰‡å›¾ç‰‡ */
.tools-showcase__card--main .tools-showcase__card-image {
  transition: opacity 0.4s ease;
  opacity: 1;
}

/* å›¾ç‰‡åˆ‡æ¢æ—¶çš„æ¨¡ç³Šæ•ˆæœï¼ˆå¿«é€Ÿåˆ‡æ¢æ—¶ä½¿ç”¨ï¼‰*/
.tools-showcase__card--main.switching {
  transition: filter 0.3s ease;
}

.tools-showcase__card--main.switching .tools-showcase__card-image {
  filter: blur(8px);
  opacity: 0.5;
}

/* å°å¡ç‰‡æ·¡å…¥æ·¡å‡ºè¿‡æ¸¡ */
.tools-showcase__card--small .tools-showcase__card-image {
  transition: opacity 0.5s ease;
}

/* ===== è¡ŒåŠ¨å·å¬æŒ‰é’® - ç™½åº•é»‘å­—ï¼ˆå‚è€ƒ bannerï¼‰===== */
.tools-showcase__cta {
  display: flex;
  justify-content: center;
  margin-top: -30px;
}

.tools-showcase__button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-sm) var(--spacing-md);
  min-width: 200px;
  background: white;
  color: black;
  font-size: 1rem;
  font-weight: 600;
  border-radius: 6px;
  text-decoration: none;
  border: none;
  cursor: pointer;
  transition: all var(--transition);
}

.tools-showcase__button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(255, 255, 255, 0.3);
  background: rgba(255, 255, 255, 0.95);
}

/* ===== å“åº”å¼ï¼šå¹³æ¿ ===== */
@media (max-width: 991px) {
  .tools-showcase {
    padding: 80px 0;
  }

  .tools-showcase__title {
    font-size: 2.5rem;
  }

  .tools-showcase__tabs {
    margin-bottom: 60px;
  }

  .tools-showcase__tab {
    padding: 12px 24px;
    font-size: 0.875rem;
  }

  .tools-showcase__carousel {
    gap: 1.5rem;
  }

  /* å¹³æ¿ç«¯ç¼©å°ä¸»å¡ç‰‡å®¹å™¨å°ºå¯¸ */
  .tools-showcase__card--main {
    width: 500px;
    height: 350px;
  }

  /* å·¦å³å°å¡ç‰‡ä¹Ÿç›¸åº”ç¼©å° */
  .tools-showcase__card--small {
    width: 160px;
    height: 200px;
  }

  /* è°ƒæ•´è´Ÿè¾¹è·ä»¥é€‚åº”è¾ƒå°çš„å¡ç‰‡ */
  .tools-showcase__side.left {
    margin-right: -120px;
  }

  .tools-showcase__side.right {
    margin-left: -120px;
  }

  /* å¹³æ¿ç«¯æ‰©æ•£è·ç¦»ç¼©å° */
  .tools-showcase__carousel.expanded .tools-showcase__side.left {
    transform: translateX(-80px);
  }

  .tools-showcase__carousel.expanded .tools-showcase__side.right {
    transform: translateX(80px);
  }

  /* éšè—å·¦å³ç¬¬äºŒå¼ å°å¡ç‰‡ï¼Œä»…æ˜¾ç¤ºæœ€è¿‘çš„ä¸€å¼  */
  .tools-showcase__side .tools-showcase__card:first-child {
    display: none;
  }
}

/* ===== å“åº”å¼ï¼šç§»åŠ¨ç«¯ ===== */
@media (max-width: 767px) {
  .tools-showcase {
    padding: 60px 0;
    overflow-x: hidden; /* é˜²æ­¢æ¨ªå‘æ»šåŠ¨ */
    overflow-y: visible; /* å…è®¸å…ƒç´ æº¢å‡º(å¡ç‰‡ç¼©æ”¾æ•ˆæœ) */
  }

  /* æ ‡é¢˜åŒºåŸŸ - å±…ä¸­å¯¹é½ */
  .tools-showcase__header {
    text-align: center;
    margin-bottom: 30px;
    padding: 0 var(--spacing-md);
  }

  .tools-showcase__title {
    font-size: 2rem;
    line-height: 1.2;
  }

  .tools-showcase__subtitle {
    font-size: 1rem;
    margin-bottom: 12px;
  }

  /* æ ‡ç­¾æ  - å±…ä¸­ + å¢å¤§è§¦æ‘¸åŒºåŸŸ */
  .tools-showcase__tabs {
    gap: 8px;
    margin-bottom: 40px;
    padding: 0 var(--spacing-sm);
    justify-content: center;
  }

  .tools-showcase__tab {
    padding: 12px 20px; /* å¢å¤§è§¦æ‘¸åŒºåŸŸ */
    min-height: 44px; /* iOS æœ€å°è§¦æ‘¸æ ‡å‡† */
    font-size: 0.8125rem;
    width: auto; /* è‡ªé€‚åº”å®½åº¦ */
    flex: 0 0 auto;
  }

  /* æ ‡ç­¾æ è§¦æ‘¸åé¦ˆ */
  .tools-showcase__tab:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
  }

  /* ğŸ”‘ å¼ºåˆ¶éšè—å·¦å³å †å ï¼Œä»…æ˜¾ç¤ºä¸­å¤®å¡ç‰‡ */
  .tools-showcase__side {
    display: none !important; /* å¼ºåˆ¶éšè— */
    visibility: hidden !important; /* åŒé‡ä¿é™© */
    opacity: 0 !important;
    pointer-events: none !important;
    position: absolute !important; /* å®Œå…¨è„±ç¦»æ–‡æ¡£æµ */
    width: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
  }

  .tools-showcase__side.left,
  .tools-showcase__side.right {
    display: none !important; /* å¼ºåˆ¶éšè—å·¦å³ä¾§ */
  }

  /* è½®æ’­å®¹å™¨ - å®Œç¾å±…ä¸­ + ç•™å‡ºç¼©æ”¾ç©ºé—´ */
  .tools-showcase__carousel-wrapper {
    padding: var(--spacing-xl) 0; /* ä¸Šä¸‹ç•™å‡ºç¼©æ”¾ç©ºé—´ */
    overflow: visible; /* å…è®¸å¡ç‰‡ç¼©æ”¾æ—¶æº¢å‡º */
    width: 100%;
    display: flex;
    justify-content: center; /* æ°´å¹³å±…ä¸­ */
    align-items: center; /* å‚ç›´å±…ä¸­ */
  }

  .tools-showcase__carousel {
    gap: 0;
    min-height: 500px; /* å¢åŠ æœ€å°é«˜åº¦,ç•™å‡ºç¼©æ”¾ç©ºé—´ */
    display: flex !important; /* å¼ºåˆ¶ flex å¸ƒå±€ */
    flex-direction: column; /* å‚ç›´å¸ƒå±€ */
    justify-content: center; /* å‚ç›´å±…ä¸­ */
    align-items: center; /* æ°´å¹³å±…ä¸­ */
    padding: var(--spacing-xl) var(--spacing-md); /* å››å‘¨ç•™ç™½ */
    width: 100%;
    max-width: 100%; /* ç¡®ä¿ä¸ä¼šè¶…å‡ºçˆ¶å®¹å™¨ */
    margin: 0 auto; /* å®¹å™¨æœ¬èº«ä¹Ÿå±…ä¸­ */
  }

  /* ä¸­å¤®å®¹å™¨ - å®Œç¾å±…ä¸­ */
  .tools-showcase__center {
    display: flex !important;
    justify-content: center; /* æ°´å¹³å±…ä¸­ */
    align-items: center; /* å‚ç›´å±…ä¸­ */
    width: 100%;
    max-width: 100%;
    margin: 0 !important; /* ç§»é™¤ margin,å®Œå…¨ä¾èµ– flex å±…ä¸­ */
    position: relative;
  }

  /* ä¸»å¡ç‰‡ - å¼¹æ€§å°ºå¯¸ + å®Œç¾å±…ä¸­ + ä¿ç•™ç¼©æ”¾æ•ˆæœ */
  .tools-showcase__card--main {
    width: 90%; /* ç•™å‡º10%è¾¹è· */
    max-width: 400px;
    height: auto; /* è‡ªåŠ¨é«˜åº¦ */
    min-height: 300px;
    aspect-ratio: 16 / 9; /* ä¿æŒå®½é«˜æ¯” */
    margin: 0 !important; /* ç§»é™¤ margin,å®Œå…¨ä¾èµ–çˆ¶å®¹å™¨çš„ flex å±…ä¸­ */
    display: block;
    transform-origin: center center; /* ğŸ”‘ ç¼©æ”¾ä¸­å¿ƒç‚¹ */
    position: relative;
  }

  /* ä¸»å¡ç‰‡å›¾ç‰‡ - ä¿æŒå®½é«˜æ¯” */
  .tools-showcase__card--main .tools-showcase__card-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* ğŸ”‘ ç§»åŠ¨ç«¯å¯ç”¨ç¼©æ”¾åŠ¨ç”»(ç§»é™¤ä¹‹å‰çš„ç¦ç”¨è§„åˆ™) */
  /* æ³¨æ„: ä¸å†å¼ºåˆ¶ scale(1),è®© JavaScript æ§åˆ¶ç¼©æ”¾ */

  /* CTA æŒ‰é’® - å±…ä¸­ + å¢å¤§è§¦æ‘¸åŒºåŸŸ */
  .tools-showcase__cta {
    margin-top: 0;
    padding: 0 var(--spacing-md);
  }

  .tools-showcase__button {
    padding: 16px 40px;
    min-height: 48px; /* å¢å¤§è§¦æ‘¸åŒºåŸŸ */
    font-size: 0.9375rem;
    width: auto;
    max-width: 100%;
  }

  /* æŒ‰é’®è§¦æ‘¸åé¦ˆ */
  .tools-showcase__button:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
  }
}

/* ===== å°å±æ‰‹æœºä¼˜åŒ– ===== */
@media (max-width: 479px) {
  /* æ ‡é¢˜è¿›ä¸€æ­¥ç¼©å° */
  .tools-showcase__title {
    font-size: 1.75rem;
    padding: 0 var(--spacing-sm);
  }

  .tools-showcase__subtitle {
    font-size: 0.9375rem;
  }

  /* æ ‡ç­¾æ ç´§å‡‘å¸ƒå±€ */
  .tools-showcase__tabs {
    gap: 6px;
    padding: 0 var(--spacing-xs);
  }

  .tools-showcase__tab {
    padding: 10px 16px;
    font-size: 0.75rem;
    min-width: auto;
  }

  /* ğŸ”‘ å°å±æ‰‹æœºä¹Ÿå¼ºåˆ¶éšè—å·¦å³å¡ç‰‡ */
  .tools-showcase__side {
    display: none !important;
    visibility: hidden !important;
    position: absolute !important; /* å®Œå…¨è„±ç¦»æ–‡æ¡£æµ */
    width: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
  }

  /* è½®æ’­å®¹å™¨ç´§å‡‘é—´è· + ç•™å‡ºç¼©æ”¾ç©ºé—´ */
  .tools-showcase__carousel-wrapper {
    padding: var(--spacing-lg) 0;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .tools-showcase__carousel {
    min-height: 450px; /* å¢åŠ é«˜åº¦,ç•™å‡ºç¼©æ”¾ç©ºé—´ */
    padding: var(--spacing-lg) var(--spacing-sm);
    display: flex !important;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
    max-width: 100%;
    margin: 0 auto;
  }

  .tools-showcase__center {
    display: flex !important;
    justify-content: center;
    align-items: center;
    width: 100%;
    margin: 0 !important; /* ç§»é™¤ margin,å®Œå…¨ä¾èµ– flex å±…ä¸­ */
  }

  /* ä¸»å¡ç‰‡è¿›ä¸€æ­¥ç¼©å° + å®Œç¾å±…ä¸­ */
  .tools-showcase__card--main {
    width: 90%; /* ç•™å‡º10%è¾¹è· */
    max-width: 320px;
    min-height: 250px;
    margin: 0 !important; /* ç§»é™¤ margin,å®Œå…¨ä¾èµ–çˆ¶å®¹å™¨çš„ flex å±…ä¸­ */
    display: block;
    transform-origin: center center;
    position: relative;
  }

  /* æŒ‰é’®å…¨å®½å¸ƒå±€ */
  .tools-showcase__button {
    width: 100%;
    max-width: 300px;
    padding: 14px 32px;
    font-size: 0.875rem;
  }
}

/* ===== ç¦ç”¨è§¦æ‘¸è®¾å¤‡çš„æ‚¬æµ®æ•ˆæœ ===== */
@media (hover: none) {
  /* ç¦ç”¨æ ‡ç­¾æŒ‰é’®æ‚¬æµ®æ•ˆæœ */
  .tools-showcase__tab:hover {
    background: rgba(255, 255, 255, 0.1); /* ä¿æŒåŸºç¡€æ ·å¼ */
    color: #FFFFFF;
  }

  .tools-showcase__tab--active:hover {
    background: white;
    color: black;
  }

  /* ç¦ç”¨ CTA æŒ‰é’®æ‚¬æµ®æ•ˆæœ */
  .tools-showcase__button:hover {
    transform: none;
    box-shadow: none;
    background: white;
  }

  /* å¢å¼ºè§¦æ‘¸æ¿€æ´»çŠ¶æ€ */
  .tools-showcase__tab:active {
    background: rgba(255, 255, 255, 0.15);
  }

  .tools-showcase__tab--active:active {
    background: rgba(255, 255, 255, 0.9);
  }

  .tools-showcase__button:active {
    background: rgba(255, 255, 255, 0.9);
  }
}
</style>

<!-- ===== HTML ç»“æ„ ===== -->
<section class="tools-showcase">
  <div class="container">
    <!-- æ ‡é¢˜åŒºåŸŸ -->
    <div class="tools-showcase__header">
      <p class="tools-showcase__subtitle">
        ECLIPSES ENGINE
      </p>
      <h2 class="tools-showcase__title">Where Imagination Eclipses Reality.</h2>
    </div>

    <!-- å·¥å…·æ ‡ç­¾æ  -->
    <div class="tools-showcase__tabs" id="toolsTabs">
      <button class="tools-showcase__tab tools-showcase__tab--active" data-tool="image-generator">
        Image Generator
      </button>
      <button class="tools-showcase__tab" data-tool="video-generator">
        Video Generator
      </button>
      <button class="tools-showcase__tab" data-tool="timeline-editor">
        Timeline Editor
      </button>
      <button class="tools-showcase__tab" data-tool="avatar">
        Avatar
      </button>
    </div>

    <!-- æ‰‘å…‹ç‰Œå †å è½®æ’­ -->
    <div class="tools-showcase__carousel-wrapper">
      <div class="tools-showcase__carousel" id="toolsCarousel">
        <!-- å·¦ä¾§å †å ï¼ˆ2å¼ å°å¡ç‰‡ï¼‰- è´Ÿè¾¹è·å®ç°é‡å  -->
        <div class="tools-showcase__side left" id="leftStack">
          <div class="tools-showcase__card tools-showcase__card--small">
            <img src="" alt="" class="tools-showcase__card-image">
          </div>
          <div class="tools-showcase__card tools-showcase__card--small">
            <img src="" alt="" class="tools-showcase__card-image">
          </div>
        </div>

        <!-- ä¸­å¤®å¤§å¡ç‰‡ -->
        <div class="tools-showcase__center">
          <div class="tools-showcase__card tools-showcase__card--main" id="mainCard">
            <img src="" alt="" class="tools-showcase__card-image">
          </div>
        </div>

        <!-- å³ä¾§å †å ï¼ˆ1å¼ ç«–å‘é•¿æ–¹å½¢å¡ç‰‡ï¼‰- è´Ÿè¾¹è·å®ç°é‡å  -->
        <div class="tools-showcase__side right" id="rightStack">
          <div class="tools-showcase__card tools-showcase__card--small">
            <img src="" alt="" class="tools-showcase__card-image">
          </div>
        </div>
      </div>
    </div>

    <!-- è¡ŒåŠ¨å·å¬æŒ‰é’® -->
    <div class="tools-showcase__cta">
      <button class="tools-showcase__button" id="runGenerator">
        RUN GENERATOR
      </button>
    </div>
  </div>
</section>

<!-- ===== JavaScript äº¤äº’é€»è¾‘ ===== -->
<script>
(function() {
  'use strict';

  // ===== å·¥å…·æ•°æ®é…ç½® =====
  // æš‚æ—¶ä½¿ç”¨å ä½å›¾ç‰‡ï¼Œåç»­å¯æ›¿æ¢ä¸ºçœŸå®èµ„æº
  const toolsData = {
    'image-generator': [
      { url: 'sections/tools-showcase/images/image-gen-1.png', alt: 'AI Generated Image 1' },
      { url: 'sections/tools-showcase/images/image-gen-2.jpg', alt: 'AI Generated Image 2' },
      { url: 'sections/tools-showcase/images/image-gen-3.png', alt: 'AI Generated Image 3' },
      { url: 'sections/tools-showcase/images/image-gen-4.png', alt: 'AI Generated Image 4' },
      { url: 'sections/tools-showcase/images/image-gen-5.png', alt: 'AI Generated Image 5' }
    ],
    'video-generator': [
      { url: 'sections/tools-showcase/images/video-gen-1.png', alt: 'AI Video Thumbnail 1' },
      { url: 'sections/tools-showcase/images/video-gen-2.png', alt: 'AI Video Thumbnail 2' },
      { url: 'sections/tools-showcase/images/video-gen-3.jpg', alt: 'AI Video Thumbnail 3' },
      { url: 'sections/tools-showcase/images/video-gen-4.png', alt: 'AI Video Thumbnail 4' },
      { url: 'sections/tools-showcase/images/video-gen-5.png', alt: 'AI Video Thumbnail 5' }
    ],
    'timeline-editor': [
      { url: 'sections/tools-showcase/images/timeline-1.png', alt: 'Timeline Editor Screenshot 1' },
      { url: 'sections/tools-showcase/images/timeline-2.png', alt: 'Timeline Editor Screenshot 2' },
      { url: 'sections/tools-showcase/images/timeline-3.png', alt: 'Timeline Editor Screenshot 3' },
      { url: 'sections/tools-showcase/images/timeline-4.png', alt: 'Timeline Editor Screenshot 4' },
      { url: 'sections/tools-showcase/images/timeline-5.jpg', alt: 'Timeline Editor Screenshot 5' }
    ],
    'avatar': [
      { url: 'sections/tools-showcase/images/avatar-1.png', alt: 'AI Generated Avatar 1' },
      { url: 'sections/tools-showcase/images/avatar-2.png', alt: 'AI Generated Avatar 2' },
      { url: 'sections/tools-showcase/images/avatar-3.png', alt: 'AI Generated Avatar 3' },
      { url: 'sections/tools-showcase/images/avatar-4.png', alt: 'AI Generated Avatar 4' },
      { url: 'sections/tools-showcase/images/avatar-5.jpg', alt: 'AI Generated Avatar 5' }
    ]
  };

  // ===== çŠ¶æ€ç®¡ç† =====
  let currentTool = 'image-generator';
  let currentIndex = 2; // ä»ä¸­é—´å¼€å§‹ï¼ˆå¯è§å¡ç‰‡ç´¢å¼•ï¼š0,1,2,3,4ï¼‰
  let isAnimating = false;
  let currentCards = toolsData[currentTool];

  // ===== Apple é£æ ¼æ»šåŠ¨åŠ«æŒå‚æ•° =====
  let scrollAccumulator = 0; // æ»šåŠ¨ç´¯ç§¯å™¨
  const scrollThreshold = 400; // éœ€è¦ç´¯ç§¯ 400px å®Œæˆä¸€æ¬¡å®Œæ•´ç¼©æ”¾
  const minScale = 1.0; // æœ€å°ç¼©æ”¾å€¼
  const maxScale = 1.5; // æœ€å¤§ç¼©æ”¾å€¼
  const maxPushDistance = 100; // å·¦å³å¡ç‰‡æœ€å¤§æ¨å¼€è·ç¦»ï¼ˆpxï¼‰

  let rafId = null; // requestAnimationFrame ID
  let currentScale = minScale; // å½“å‰ç¼©æ”¾å€¼
  let targetScale = minScale; // ç›®æ ‡ç¼©æ”¾å€¼

  let consecutiveScrollCount = 0; // è¿ç»­æ»šåŠ¨è®¡æ•°å™¨ï¼ˆç”¨äºé‡Šæ”¾æ»šåŠ¨ï¼‰
  let lastScrollDirection = 0; // ä¸Šæ¬¡æ»šåŠ¨æ–¹å‘ï¼ˆ1=å‘ä¸‹, -1=å‘ä¸Šï¼‰

  // åŠ¨æ€æ£€æµ‹æ˜¯å¦ä¸ºç§»åŠ¨è®¾å¤‡ï¼ˆæ”¯æŒçª—å£å¤§å°å˜åŒ–ï¼‰
  function isMobileDevice() {
    return window.innerWidth < 768;
  }

  // ===== DOM å…ƒç´  =====
  const showcaseSection = document.querySelector('.tools-showcase'); // æ¨¡å—å®¹å™¨
  const carousel = document.getElementById('toolsCarousel'); // è½®æ’­å®¹å™¨
  const mainCardContainer = document.getElementById('mainCard'); // ä¸»å¡ç‰‡å®¹å™¨
  const mainCard = document.querySelector('#mainCard img'); // ä¸»å¡ç‰‡å›¾ç‰‡
  const leftSide = document.querySelector('#leftStack'); // å·¦ä¾§å®¹å™¨
  const rightSide = document.querySelector('#rightStack'); // å³ä¾§å®¹å™¨
  const leftStack = document.querySelectorAll('#leftStack img');
  const rightStack = document.querySelectorAll('#rightStack img');
  const tabs = document.querySelectorAll('.tools-showcase__tab');
  const runBtn = document.getElementById('runGenerator');

  if (!showcaseSection || !carousel || !mainCardContainer || !mainCard || !runBtn) {
    console.warn('[tools-showcase] å¿…è¦çš„ DOM èŠ‚ç‚¹ç¼ºå¤±ï¼Œå·²è·³è¿‡è„šæœ¬åˆå§‹åŒ–ã€‚');
    return;
  }

  let wheelListenerAttached = false;
  let resizeRaf = null;

  // ===== åˆå§‹åŒ– =====
  function init() {
    updateCardsDisplay();
    updateResponsiveLayout();
    attachEventListeners();
    updateScaleBasedOnScroll();
  }

  // ===== è·å–å¯è§å¡ç‰‡ç´¢å¼• =====
  // è¿”å› [left-1, left-2, center, right-1] çš„ç´¢å¼•ï¼ˆå·¦2å¼ +ä¸­1å¼ +å³1å¼ ï¼‰
  function getVisibleIndices() {
    const total = currentCards.length;
    return [
      (currentIndex - 2 + total) % total,  // å·¦ä¾§ç¬¬ä¸€å¼ 
      (currentIndex - 1 + total) % total,  // å·¦ä¾§ç¬¬äºŒå¼ 
      currentIndex,                        // ä¸­å¤®å¡ç‰‡
      (currentIndex + 1) % total           // å³ä¾§å¡ç‰‡
    ];
  }

  // ===== æ›´æ–°å¡ç‰‡æ˜¾ç¤º =====
  function updateCardsDisplay() {
    const indices = getVisibleIndices();

    // æ›´æ–°å·¦ä¾§å †å ï¼ˆ2å¼ å¡ç‰‡ï¼‰
    leftStack[0].src = currentCards[indices[0]].url;
    leftStack[0].alt = currentCards[indices[0]].alt;
    leftStack[1].src = currentCards[indices[1]].url;
    leftStack[1].alt = currentCards[indices[1]].alt;

    // æ›´æ–°ä¸­å¤®å¡ç‰‡
    mainCard.src = currentCards[indices[2]].url;
    mainCard.alt = currentCards[indices[2]].alt;

    // æ›´æ–°å³ä¾§å¡ç‰‡ï¼ˆåªæœ‰1å¼ ï¼‰
    rightStack[0].src = currentCards[indices[3]].url;
    rightStack[0].alt = currentCards[indices[3]].alt;
  }

  // ===== æ ¹æ®å±å¹•å®½åº¦åˆ‡æ¢å¸ƒå±€ï¼ˆJS + CSS åŒä¿é™©ï¼‰=====
  function updateResponsiveLayout() {
    if (!showcaseSection) return;

    const mobile = isMobileDevice();
    showcaseSection.classList.toggle('tools-showcase--mobile', mobile);

    if (leftSide) {
      leftSide.hidden = mobile;
      if (mobile) {
        leftSide.setAttribute('aria-hidden', 'true');
      } else {
        leftSide.removeAttribute('aria-hidden');
        leftSide.style.transform = '';
      }
    }

    if (rightSide) {
      rightSide.hidden = mobile;
      if (mobile) {
        rightSide.setAttribute('aria-hidden', 'true');
      } else {
        rightSide.removeAttribute('aria-hidden');
        rightSide.style.transform = '';
      }
    }

    // ğŸ”§ ä¿®å¤: ç§»é™¤æ‰‹æœºç«¯æ»šåŠ¨æ—¶è‡ªåŠ¨åˆ‡æ¢ç…§ç‰‡çš„é€»è¾‘
    // æ‰‹æœºç«¯ä¿ç•™:
    // âœ… ç¼©æ”¾åŠ¨ç”» (é€šè¿‡ updateScaleBasedOnScroll)
    // âœ… è§¦æ‘¸æ»‘åŠ¨åˆ‡æ¢ (é€šè¿‡ handleTouchStart/End)
    // âŒ æ»šåŠ¨åˆ‡æ¢ç…§ç‰‡ (å·²ç§»é™¤)

    // å¦‚æœä¹‹å‰é™„åŠ è¿‡ wheel ç›‘å¬å™¨,æ¸…ç†å®ƒ
    if (wheelListenerAttached) {
      showcaseSection.removeEventListener('wheel', handleWheelMobile);
      wheelListenerAttached = false;
    }
  }

  // ===== åº”ç”¨ç¼©æ”¾æ•ˆæœï¼ˆå¹³æ»‘è·Ÿéšæ»šåŠ¨ï¼‰=====
  function applyScaleTransform(scale) {
    // è°ƒè¯•æ—¥å¿—ï¼ˆç”Ÿäº§ç¯å¢ƒå¯ç§»é™¤ï¼‰
    console.log('applyScaleTransform:', { scale, isMobile: isMobileDevice(), width: window.innerWidth });

    // æ›´æ–°ä¸­å¤®å¡ç‰‡ç¼©æ”¾
    mainCardContainer.style.transform = `scale(${scale})`;

    // æ¡Œé¢ç«¯æ‰å¤„ç†å·¦å³å¡ç‰‡çš„æ¨å¼€åŠ¨ç”»
    if (!isMobileDevice() && leftSide && rightSide) {
      // è®¡ç®—å·¦å³å¡ç‰‡çš„æ¨å¼€è·ç¦»ï¼ˆçº¿æ€§æ˜ å°„ï¼‰
      // scale 1.0 â†’ 0px, scale 1.5 â†’ maxPushDistance
      const progress = (scale - minScale) / (maxScale - minScale);
      const pushDistance = progress * maxPushDistance;

      // åº”ç”¨è§†å·®æ•ˆæœ
      leftSide.style.transform = `translateX(-${pushDistance}px)`;
      rightSide.style.transform = `translateX(${pushDistance}px)`;
    }
  }

  // ===== ä½¿ç”¨ RAF å¹³æ»‘æ›´æ–°ç¼©æ”¾ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰=====
  function updateScaleAnimation() {
    // å¹³æ»‘æ’å€¼ï¼ˆLerpï¼‰ï¼Œé¿å…çªå˜
    currentScale += (targetScale - currentScale) * 0.15;

    // åº”ç”¨å˜æ¢
    applyScaleTransform(currentScale);

    // å¦‚æœè¿˜æœ‰å·®è·ï¼Œç»§ç»­ä¸‹ä¸€å¸§
    if (Math.abs(targetScale - currentScale) > 0.001) {
      rafId = requestAnimationFrame(updateScaleAnimation);
    } else {
      currentScale = targetScale;
      rafId = null;
    }
  }

  // ===== åˆ‡æ¢åˆ°ä¸‹ä¸€å¼ /ä¸Šä¸€å¼ å¡ç‰‡ =====
  function switchToCard(direction) {
    if (isAnimating) return;

    isAnimating = true;
    const total = currentCards.length;

    // æ·»åŠ æ¨¡ç³Šåˆ‡æ¢æ•ˆæœ
    mainCardContainer.classList.add('switching');

    // åœ¨æ¨¡ç³Šæ—¶åˆ‡æ¢å›¾ç‰‡
    setTimeout(() => {
      currentIndex = (currentIndex + direction + total) % total;
      updateCardsDisplay();
    }, 150);

    // ç§»é™¤æ¨¡ç³Šæ•ˆæœï¼Œé‡ç½®ç¼©æ”¾
    setTimeout(() => {
      mainCardContainer.classList.remove('switching');
      scrollAccumulator = 0;
      targetScale = minScale;
      currentScale = minScale;
      applyScaleTransform(minScale);
      isAnimating = false;
    }, 300);
  }

  // ===== åŸºäºæ»šåŠ¨ä½ç½®è®¡ç®—ç¼©æ”¾ï¼ˆä¸åŠ«æŒæ»šåŠ¨ï¼‰=====
  function updateScaleBasedOnScroll() {
    if (!showcaseSection) return;
    const rect = showcaseSection.getBoundingClientRect();
    const viewportHeight = window.innerHeight;

    // è®¡ç®—åŒºåŸŸç›¸å¯¹äºè§†å£çš„ä½ç½®
    const sectionTop = rect.top;
    const sectionBottom = rect.bottom;
    const viewportCenter = viewportHeight / 2;

    // å¦‚æœåŒºåŸŸè¿˜æœªè¿›å…¥è§†å£ï¼Œä¿æŒåˆå§‹ç¼©æ”¾
    if (sectionBottom < 0 || sectionTop > viewportHeight) {
      targetScale = minScale;
      if (!rafId) {
        rafId = requestAnimationFrame(updateScaleAnimation);
      }
      return;
    }

    // è®¡ç®—åŒºåŸŸä¸­å¿ƒç›¸å¯¹äºè§†å£ä¸­å¿ƒçš„åç§»
    const sectionCenter = sectionTop + rect.height / 2;
    const offset = sectionCenter - viewportCenter;

    // å®šä¹‰ç¼©æ”¾è§¦å‘åŒºåŸŸ
    const scaleRange = viewportHeight * 0.8; // ç¼©æ”¾è¿‡æ¸¡èŒƒå›´

    // è®¡ç®—ç¼©æ”¾è¿›åº¦
    let progress = 0;

    if (offset > 0) {
      // åŒºåŸŸä¸­å¿ƒåœ¨è§†å£ä¸­å¿ƒä¸‹æ–¹ï¼ˆå°šæœªæ»šåŠ¨åˆ°å±…ä¸­ä½ç½®ï¼‰
      // ä»ä¸‹æ–¹è¿›å…¥ï¼Œé€æ¸æ”¾å¤§
      progress = Math.max(0, 1 - offset / scaleRange);
    } else {
      // åŒºåŸŸä¸­å¿ƒåœ¨è§†å£ä¸­å¿ƒä¸Šæ–¹æˆ–å¯¹é½ï¼ˆå·²ç»æ»šåŠ¨åˆ°å±…ä¸­æˆ–æ›´ä¸Šæ–¹ï¼‰
      // ä¿æŒæœ€å¤§ç¼©æ”¾ï¼Œä¸ç¼©å°
      progress = 1;
    }

    // æ˜ å°„åˆ°ç¼©æ”¾å€¼ (1.0 ~ 1.5)
    targetScale = minScale + (maxScale - minScale) * progress;

    // å¯åŠ¨å¹³æ»‘åŠ¨ç”»
    if (!rafId) {
      rafId = requestAnimationFrame(updateScaleAnimation);
    }
  }

  // ===== ç›‘å¬é¡µé¢æ»šåŠ¨ =====
  function handleScroll() {
    updateScaleBasedOnScroll();
  }

  // ===== ç§»åŠ¨ç«¯æ»šè½®äº‹ä»¶ï¼ˆç¦»æ•£åˆ‡æ¢ï¼‰=====
  let wheelTimeout = null;
  function handleWheelMobile(event) {
    if (isAnimating || wheelTimeout) return;

    event.preventDefault();

    // ç¦»æ•£åˆ‡æ¢
    if (event.deltaY > 0) {
      switchToCard(1);
    } else {
      switchToCard(-1);
    }

    // èŠ‚æµ
    wheelTimeout = setTimeout(() => {
      wheelTimeout = null;
    }, 500);
  }

  // ===== ç›‘å¬çª—å£å°ºå¯¸å˜åŒ–ï¼Œä¿æŒå¸ƒå±€çŠ¶æ€åŒæ­¥ =====
  function handleResize() {
    if (resizeRaf) return;

    resizeRaf = requestAnimationFrame(() => {
      resizeRaf = null;
      updateResponsiveLayout();
      updateScaleBasedOnScroll();
    });
  }

  // ===== æ ‡ç­¾åˆ‡æ¢ =====
  function handleTabClick(event) {
    const clickedTab = event.target.closest('.tools-showcase__tab');
    if (!clickedTab || isAnimating) return;

    const toolName = clickedTab.dataset.tool;
    if (toolName === currentTool) return;

    // æ›´æ–°æ ‡ç­¾æ¿€æ´»çŠ¶æ€
    tabs.forEach(tab => tab.classList.remove('tools-showcase__tab--active'));
    clickedTab.classList.add('tools-showcase__tab--active');

    // åˆ‡æ¢å·¥å…·æ•°æ®
    currentTool = toolName;
    currentCards = toolsData[currentTool];
    currentIndex = 2; // é‡ç½®åˆ°ä¸­é—´ç´¢å¼•

    // é‡ç½®æ»šåŠ¨çŠ¶æ€ï¼ˆä½†ä¿æŒå½“å‰ç¼©æ”¾ï¼‰
    scrollAccumulator = 0;
    consecutiveScrollCount = 0;

    // ä½¿ç”¨å›¾ç‰‡äº¤å‰æ·¡å…¥æ·¡å‡ºï¼ˆé¿å…é—ªçƒï¼‰
    isAnimating = true;

    // å…ˆå°†æ‰€æœ‰å›¾ç‰‡æ·¡å‡º
    const allImages = carousel.querySelectorAll('.tools-showcase__card-image');
    allImages.forEach(img => {
      img.style.transition = 'opacity 0.2s ease';
      img.style.opacity = '0';
    });

    // åœ¨å›¾ç‰‡æ·¡å‡ºååˆ‡æ¢
    setTimeout(() => {
      updateCardsDisplay();
      // ä¿æŒå½“å‰ç¼©æ”¾çŠ¶æ€ï¼Œä¸é‡ç½®ä¸º minScale
      applyScaleTransform(currentScale);

      // ç«‹å³æ·¡å…¥æ–°å›¾ç‰‡
      setTimeout(() => {
        allImages.forEach(img => {
          img.style.opacity = '1';
        });

        // é‡æ–°è®¡ç®—åŸºäºå½“å‰æ»šåŠ¨ä½ç½®çš„ç¼©æ”¾
        updateScaleBasedOnScroll();

        // åŠ¨ç”»å®Œæˆåæ¸…ç†
        setTimeout(() => {
          allImages.forEach(img => {
            img.style.transition = '';
          });
          isAnimating = false;
        }, 200);
      }, 50);
    }, 200);
  }

  // ===== è§¦æ‘¸äº‹ä»¶æ”¯æŒï¼ˆç§»åŠ¨ç«¯ï¼‰=====
  let touchStartX = 0;
  let touchEndX = 0;

  function handleTouchStart(event) {
    touchStartX = event.touches[0].clientX;
  }

  function handleTouchEnd(event) {
    if (isAnimating) return;

    touchEndX = event.changedTouches[0].clientX;
    const diff = touchStartX - touchEndX;

    // æ»‘åŠ¨è·ç¦»è¶…è¿‡ 50px æ‰è§¦å‘åˆ‡æ¢
    if (Math.abs(diff) > 50) {
      if (diff > 0) {
        switchToCard(1); // å·¦æ»‘ â†’ ä¸‹ä¸€å¼ 
      } else {
        switchToCard(-1); // å³æ»‘ â†’ ä¸Šä¸€å¼ 
      }
    }
  }

  // ===== æŒ‰é’®ç‚¹å‡»äº‹ä»¶ =====
  function handleRunGenerator() {
    console.log('Run Generator clicked for:', currentTool);
    // TODO: å®ç°è·³è½¬æˆ–æ‰“å¼€æ¨¡æ€æ¡†é€»è¾‘
    alert(`Starting ${currentTool.replace('-', ' ')}...`);
  }

  // ===== ç»‘å®šäº‹ä»¶ç›‘å¬å™¨ =====
  function attachEventListeners() {
    // ç›‘å¬é¡µé¢æ»šåŠ¨ï¼ˆè¢«åŠ¨å¼ï¼Œä¸åŠ«æŒï¼‰
    window.addEventListener('scroll', handleScroll, { passive: true });
    window.addEventListener('resize', handleResize);

    // æ ‡ç­¾åˆ‡æ¢
    tabs.forEach(tab => {
      tab.addEventListener('click', handleTabClick);
    });

    // è¡ŒåŠ¨å·å¬æŒ‰é’®
    runBtn.addEventListener('click', handleRunGenerator);

  }

  // ===== å¯åŠ¨æ¨¡å— =====
  // ç­‰å¾… DOM å®Œå…¨åŠ è½½ååˆå§‹åŒ–
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }

})();
</script>
