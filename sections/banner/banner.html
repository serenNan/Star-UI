<!-- ================================
     Banner 区域 - 宇航员全屏背景设计
     ================================ -->

<style>
/* ================================
   Banner 专属样式
   ================================ */

/* 1. 基础布局 - 宇航员全屏背景（延伸到导航栏上方）*/
.banner {
  position: relative;
  min-height: 100vh;
  background-image: url('sections/banner/1.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  padding-top: calc(var(--nav-height) + var(--spacing-lg)); /* 减小顶部内边距 */
  padding-bottom: calc(22rem + var(--spacing-2xl)); /* 增加底部内边距，为卡片留出空间 */
  overflow: visible; /* 允许内容溢出，确保卡片可见 */
}

/* 深色渐变遮罩层 - 已移除 */
/* .banner::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to right,
    rgba(0, 0, 0, 0.2) 0%,
    rgba(0, 0, 0, 0.1) 50%,
    rgba(0, 0, 0, 0.15) 100%
  );
  z-index: 0;
} */

/* 星空背景效果 */
.banner::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image:
    radial-gradient(2px 2px at 20% 30%, white, transparent),
    radial-gradient(2px 2px at 60% 70%, white, transparent),
    radial-gradient(1px 1px at 50% 50%, white, transparent),
    radial-gradient(2px 2px at 80% 10%, white, transparent),
    radial-gradient(1px 1px at 30% 80%, white, transparent);
  background-size: 200px 200px;
  opacity: 0.2;
  pointer-events: none;
  z-index: 1;
}

.banner-container {
  position: relative;
  max-width: 100%; /* 使用全宽，不限制容器宽度 */
  margin: 0 auto;
  padding: 0 3rem; /* 减小左右内边距 */
  height: 100%;
  z-index: 2;
}

/* 2. 左侧内容区 */
.banner-left {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md); /* 减小内部间距 */
  max-width: 550px; /* 减小最大宽度 */
  margin-left: 1rem; /* 增加左边距，距离左边更远 */
  z-index: 3;
}

.banner-title {
    font-family: 'Poppins', sans-serif;font-size: clamp(2rem, 5vw, 3.75rem); /* 减小字体：从 2.5-4.5rem 改为 2-3.5rem */
  font-weight: 700;
  line-height: 1.2; /* 设置行高 */
  color: var(--color-text);
  margin: 0;
  margin-bottom: var(--spacing-xs); /* 减小与下方元素的间距：从 lg 改为 md */
  letter-spacing: -0.02em;
  max-width: 700px; /* 限制最大宽度，确保保持两行 */
}

.banner-subtitle {
    font-family: 'Sora', sans-serif;font-size: clamp(1rem, 2vw, 1.5rem);
  line-height: 1.6;
  color: var(--color-text-secondary);
  margin: 0;
  margin-bottom: var(--spacing-xs); /* 减小与按钮之间的间距：从 lg 改为 md */
  max-width: 500px;
}

/* Start Creating 按钮 - 白色背景 + 黑色文字 */
.btn-start {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-sm) var(--spacing-md);
  background: white;
  color: black;
  font-size: 1rem;
  font-weight: 600;
  border-radius: 10px;
  text-decoration: none;
  width: fit-content;
  transition: all var(--transition);
  border: none;
  cursor: pointer;
}

.btn-start:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(255, 255, 255, 0.3);
  background: rgba(255, 255, 255, 0.95);
}

/* 3. 右上角描述区 */
.banner-right {
  position: absolute; /* 相对于 banner-container 定位 */
  bottom: calc(-22rem + 120px + 3rem); /* 下移描述框：从 4rem 改为 2rem */
  right: 3rem; /* 距离浏览器右边缘固定距离 */
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md); /* 减小内部间距 */
  z-index: 3;
}

/* 描述文本框 - 灰色背景 + 白色文字 */
.description-text {
  font-size: 0.5rem; /* 减小字体：从 0.875rem (14px) 改为 0.75rem (12px) */
  line-height: 1.6; /* 相应调整行高 */
  color: rgb(230, 229, 229); /* 白色文字 */
  margin: 0;
  padding: 20px 0 0 20px; /* 只要左边距和上边距：上 右 下 左 */
  background: rgba(68, 68, 68, 0.451); /* 灰色半透明背景 */
  border: none; /* 移除边框 */
  border-radius: 18px; /* 增加圆角：从 12px 改为 18px */
  backdrop-filter: blur(1px);
  width: 463px; /* 固定宽度 */
  height: 113px; /* 固定高度 */
  overflow-y: auto; /* 内容超出时显示滚动条 */
  box-sizing: border-box;
  position: relative; /* 为绝对定位的图标按钮提供参考 */
}

/* 右下角生成图标按钮 */
.generate-icon-btn {
  position: absolute;
  bottom: 5px; /* 减少下边距：从 10px 改为 5px */
  right: 5px; /* 减少右边距：从 10px 改为 5px */
  width: 32px;
  height: 32px;
  background: rgba(32, 31, 31, 0.9); /* 更黑的背景：从 rgba(40, 40, 40, 0.8) 改为 rgba(20, 20, 20, 0.9) */
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 16px; /* 增大圆角：从 8px 改为 12px */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 10;
}

.generate-icon-btn:hover {
  background: rgba(60, 60, 60, 0.9);
  border-color: rgba(255, 255, 255, 0.4);
  transform: scale(1.05);
}

.generate-icon-btn svg {
  width: 18px;
  height: 18px;
  fill: none;
  stroke: white;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.tools-tags {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.tools-tags span {
  font-size: 0.75rem;
  color: var(--color-text-muted);
  padding-left: var(--spacing-xs);
}

/* 4. 右下角背景切换卡片区 - 水平排列不换行 */
.video-cards-container {
  position: absolute; /* 相对于 banner-container 定位 */
  right: 3rem; /* 距离浏览器右边缘固定距离 */
  bottom: -22rem; /* 距离浏览器底部固定距离 */
  z-index: 100; /* 提高层级,确保在所有内容之上 */
  max-width: calc(100vw - 6rem); /* 限制最大宽度，防止卡片超出视口 */
}

.video-cards-grid {
  display: flex;
  gap: 0.88rem; /* 减小间距：从 0.75rem 改为 0.5rem */
  flex-wrap: nowrap; /* 禁止换行 */
  align-items: flex-end; /* 标题和卡片底部对齐 */
}

/* 单个卡片包装器（包含标题）*/
.video-card-wrapper {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  flex-shrink: 0; /* 防止收缩 */
  position: relative; /* 为 z-index 生效创建定位上下文 */
  z-index: 10; /* 确保包装器也在高层级 */
}

/* 卡片标题（显示在卡片下方）*/
.card-title {
    font-family: 'Poppins', sans-serif;font-size: clamp(2rem, 5vw, 3.75rem); /* 减小字体：从 0.75rem 改为 0.65rem */
  font-weight: 700;
  color: var(--color-text);
  text-align: left; /* 左侧对齐 */
  letter-spacing: 0.05em;
  white-space: nowrap;
  order: 2; /* 标题排在后面 */
}

/* 卡片主体 */
.video-card {
  order: 1; /* 卡片排在前面 */
}

/* 背景切换卡片 - 更长的高度 */
.video-card {
  position: relative;
  width: 81px; /* 减小宽度：从 90px 改为 70px */
  height: 108px; /* 减小高度：从 120px 改为 100px */
  border-radius: 4px; /* 减小圆角：从 6px 改为 3px */
  overflow: hidden;
  cursor: pointer;
  background: var(--color-bg-secondary);
  border: 1px solid transparent; /* 默认透明边框 */
  transition: all var(--transition);
  z-index: 10; /* 确保卡片在最高层级,不被其他元素遮挡 */
}

/* 选中状态 - 外围白色边框 */
.video-card.active {
  outline: 1px solid white;
  outline-offset: 1.5px;
  box-shadow: 0 0 12px rgba(255, 255, 255, 0.15);
}

.video-card:hover {
  transform: translateY(-4px);
  z-index: 20; /* 悬浮时进一步提高层级 */
}

/* 卡片图片 */
.video-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 5. 响应式样式 */

/* 平板端 (768px - 991px) */
@media (max-width: 991px) {
  /* Banner 主容器 - 改为自动高度,允许卡片溢出 */
  .banner {
    min-height: auto;
    padding-top: calc(var(--nav-height) + var(--spacing-2xl));
    padding-bottom: var(--spacing-3xl);
    background-position: center center;
    overflow-x: hidden; /* 只隐藏横向溢出 */
    overflow-y: visible; /* 允许纵向溢出,卡片向上浮动不被裁剪 */
  }

  /* 内容容器 - 改为垂直流式布局,居中对齐 */
  .banner-container {
    display: flex;
    flex-direction: column;
    align-items: center;  /* 所有子元素水平居中 */
    gap: var(--spacing-xl);
    padding: 0 2rem;
  }

  /* 左侧内容区 - 占满宽度,居中对齐 */
  .banner-left {
    max-width: 100%;
    margin-left: 0;
    text-align: center;  /* 文字居中 */
    display: flex;
    flex-direction: column;
    align-items: center;  /* 子元素居中 */
  }

  /* 标题和副标题居中 */
  .banner-title,
  .banner-subtitle {
    font-family: 'Sora', sans-serif;text-align: center;
    margin-left: auto;
    margin-right: auto;
  }

  /* 按钮居中 */
  .btn-start {
    margin-left: auto;
    margin-right: auto;
  }

  /* 右上描述区 - 改为静态定位(跟随文档流) */
  .banner-right {
    position: static;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
  }

  /* 描述文本框 - 弹性宽高 */
  .description-text {
    width: 100%;
    height: auto;
    min-height: 113px;
    max-width: 100%;
    padding: 1.25rem;
  }

  /* 卡片容器 - 改为静态定位 + 水平滚动,居中对齐 */
  .video-cards-container {
    position: static;
    right: auto;
    bottom: auto;
    max-width: 100%;
    width: 100%;
    margin: 0 auto;
    overflow-x: auto;
    overflow-y: visible; /* 改为 visible,允许卡片向上浮动 */
    padding: 1rem; /* 增加上下 padding,为悬浮效果留空间 */
    display: flex;
    justify-content: center;  /* 卡片网格居中 */
  }

  /* 卡片网格 - 支持滚动 */
  .video-cards-grid {
    gap: 0.75rem;
    padding: var(--spacing-sm) 0; /* 上下留出空间 */
    justify-content: center;  /* 卡片居中 */
  }

  .video-card-wrapper {
    flex-shrink: 0;
  }

  /* 滚动条美化 */
  .video-cards-container::-webkit-scrollbar {
    height: 6px;
  }

  .video-cards-container::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 3px;
  }

  .video-cards-container::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
  }

  .video-cards-container::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  /* 滚动提示渐变遮罩 */
  .video-cards-container::after {
    content: '';
    position: absolute;
    right: 0;
    top: 0;
    bottom: 6px;
    width: 40px;
    background: linear-gradient(to left, var(--color-bg), transparent);
    pointer-events: none;
  }
}

/* 移动端 (< 768px) */
@media (max-width: 767px) {
  /* Banner 容器 */
  .banner {
    padding-top: calc(var(--nav-height) + var(--spacing-xl));
    padding-bottom: var(--spacing-2xl);
    min-height: auto;
  }

  /* 内容容器 - 减小左右边距,确保居中 */
  .banner-container {
    padding: 0 1.5rem;
    gap: var(--spacing-lg);
    align-items: center;  /* 强制所有子元素居中 */
  }

  /* 左侧内容 - 居中对齐 */
  .banner-left {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
  }

  .banner-title {
    font-family: 'Poppins', sans-serif;font-size: clamp(2rem, 5vw, 3.75rem);
    max-width: 100%;
    text-align: center;
  }

  .banner-subtitle {
    font-family: 'Sora', sans-serif;font-size: clamp(1rem, 2vw, 1.5rem);
    max-width: 100%;
    text-align: center;
  }

  /* 按钮 - 居中显示 */
  .btn-start {
    margin: 0 auto;
  }

  /* 右侧描述区 - 确保居中 */
  .banner-right {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
  }

  /* 描述文本框 */
  .description-text {
    font-size: 0.8rem;
    line-height: 1.6;
    min-height: auto;
    padding: 1rem;
  }

  /* 生成按钮 - 增大触摸区域 */
  .generate-icon-btn {
    width: 40px;
    height: 40px;
    bottom: 8px;
    right: 8px;
  }

  .generate-icon-btn svg {
    width: 20px;
    height: 20px;
  }

  .tools-tags span {
    font-size: 0.7rem;
  }

  /* 卡片 */
  .video-card {
    width: 100px;
    height: 133px; /* 保持比例: 100/81 * 108 ≈ 133 */
  }

  .card-title {
    font-family: 'Poppins', sans-serif;font-size: clamp(2rem, 5vw, 3.75rem);
  }
}

/* 小屏手机 (< 480px) */
@media (max-width: 479px) {
  .banner-container {
    padding: 0 var(--spacing-md);
    align-items: center;  /* 确保居中 */
  }

  .banner-title {
    font-family: 'Poppins', sans-serif;font-size: clamp(2rem, 5vw, 3.75rem);
    text-align: center;
  }

  .banner-subtitle {
    font-family: 'Sora', sans-serif;text-align: center;
  }

  .btn-start {
    width: 100%;
    max-width: 300px;
    text-align: center;
    margin: 0 auto;
  }

  .description-text {
    font-size: 0.75rem;
    padding: 0.875rem;
    border-radius: 12px;
  }

  .video-card {
    width: 85px;
    height: 113px; /* 保持比例: 85/81 * 108 ≈ 113 */
  }

  .card-title {
    font-family: 'Poppins', sans-serif;font-size: clamp(2rem, 5vw, 3.75rem);
  }
}

/* 触摸设备优化 */
@media (max-width: 991px) {
  /* 触摸反馈 */
  .video-card:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
  }

  .btn-start:active {
    transform: scale(0.98);
  }

  .generate-icon-btn:active {
    transform: scale(0.9);
  }
}

/* 禁用移动端悬浮效果 */
@media (hover: none) {
  .video-card:hover {
    transform: translateY(0);
  }

  .btn-start:hover {
    transform: translateY(0);
    box-shadow: none;
  }
}

/* 性能优化 - 禁用动画偏好 */
@media (prefers-reduced-motion: reduce) {
  .video-card,
  .btn-start,
  .generate-icon-btn {
    transition: none !important;
  }

  .banner::before {
    animation: none !important;
  }
}
</style>

<!-- HTML 结构 -->
<section class="banner">
  <div class="banner-container">
    <!-- 左侧内容区 -->
    <div class="banner-left">
      <h1 class="banner-title">
        AI SCROLL-STOPPING VIDEOS,<br>
        DESIGNED LIKE ART
      </h1>

      <p class="banner-subtitle">
        SCROLL-STOPPING VIDEO CONTENT — REFINED, CONSISTENT, AND BUILT TO AMPLIFY YOUR BRAND IDENTITY.
      </p>

      <a href="#" class="btn-start">Start Creating</a>
    </div>

    <!-- 右上角描述区 -->
    <div class="banner-right">
      <p class="description-text" id="bannerDescription">
        ultra-realistic close-up of an astronaut in a detailed white space suit, standing in the darkness of outerspace. the visor reflects a softly lit spacecraft with warm yellow-white highlights. intricate textures onthe suit folds, metallic connectors, and scuffed surfaces show wear and realism. the background is pitchblack, creating dramatic contrast and focus on the helmet reflection.

        <!-- 右下角生成图标按钮 -->
        <button class="generate-icon-btn" id="generateBtn" title="Generate new description">
          <svg viewBox="0 0 24 24">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <path d="M12 8v8M8 12h8"></path>
            <circle cx="18" cy="6" r="3" fill="white" stroke="none"></circle>
          </svg>
        </button>
      </p>

    </div>

    <!-- 右下角背景切换卡片 - 水平排列不换行 -->
    <div class="video-cards-container">
      <div class="video-cards-grid">
        <!-- 背景切换卡片 1 -->
        <div class="video-card-wrapper">
          <div class="video-card active" data-bg-index="0">
            <img src="sections/banner/1.png" alt="AI SCROLL Background">
          </div>
          <div class="card-title">AI SCROLL</div>
        </div>

        <!-- 背景切换卡片 2 -->
        <div class="video-card-wrapper">
          <div class="video-card" data-bg-index="1">
            <img src="sections/banner/2.jpg" alt="AI SCROLL Background">
          </div>
          <div class="card-title">AI SCROLL</div>
        </div>

        <!-- 背景切换卡片 3 -->
        <div class="video-card-wrapper">
          <div class="video-card" data-bg-index="2">
            <img src="sections/banner/3.png" alt="AI SCROLL Background">
          </div>
          <div class="card-title">AI SCROLL</div>
        </div>

        <!-- 背景切换卡片 4 -->
        <div class="video-card-wrapper">
          <div class="video-card" data-bg-index="3">
            <img src="sections/banner/4.png" alt="AI SCROLL Background">
          </div>
          <div class="card-title">AI SCROLL</div>
        </div>

        <!-- 背景切换卡片 5 -->
        <div class="video-card-wrapper">
          <div class="video-card" data-bg-index="4">
            <img src="sections/banner/5.png" alt="AI SCROLL Background">
          </div>
          <div class="card-title">AI SCROLL</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- JavaScript 交互逻辑 -->
<script>
(function() {
  'use strict';

  // 背景图片数组（对应5个卡片）
  const backgrounds = [
    'sections/banner/1.png',  // 卡片 1
    'sections/banner/2.jpg',  // 卡片 2
    'sections/banner/3.png',  // 卡片 3
    'sections/banner/4.png',  // 卡片 4
    'sections/banner/5.png'   // 卡片 5
  ];

  // 获取 Banner 元素和所有背景切换卡片
  const banner = document.querySelector('.banner');
  const bgCards = document.querySelectorAll('.banner .video-card[data-bg-index]');

  // 背景切换功能
  bgCards.forEach((card) => {
    card.addEventListener('click', function() {
      const bgIndex = parseInt(this.getAttribute('data-bg-index'));

      // 切换背景图片
      if (banner && backgrounds[bgIndex]) {
        banner.style.backgroundImage = `url('${backgrounds[bgIndex]}')`;
      }

      // 移除所有卡片的 active 类并清除内联样式
      bgCards.forEach(c => {
        c.classList.remove('active');
        c.style.borderColor = '';  // 清除悬浮时设置的内联样式
      });

      // 添加 active 类到当前点击的卡片
      this.classList.add('active');
    });
  });

  // 移动端触摸支持
  if ('ontouchstart' in window) {
    bgCards.forEach(card => {
      card.addEventListener('touchstart', (e) => {
        // 触摸设备上也触发点击事件
        card.click();
      });
    });

    // 移动端防止双击缩放
    const banner = document.querySelector('.banner');
    let lastTouchEnd = 0;

    if (banner) {
      banner.addEventListener('touchend', (e) => {
        const now = Date.now();
        if (now - lastTouchEnd <= 300) {
          e.preventDefault();
        }
        lastTouchEnd = now;
      }, false);
    }

    // 卡片滚动容器优化 - 自动滚动到选中卡片
    const cardsContainer = document.querySelector('.video-cards-container');
    if (cardsContainer && window.innerWidth < 992) {
      const activeCard = cardsContainer.querySelector('.video-card.active');
      if (activeCard) {
        setTimeout(() => {
          activeCard.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
        }, 100);
      }
    }
  }

  // ========================================
  // 文字生成功能
  // ========================================

  // 预设的描述文本数组
  const descriptions = [
    'ultra-realistic close-up of an astronaut in a detailed white space suit, standing in the darkness of outerspace. the visor reflects a softly lit spacecraft with warm yellow-white highlights. intricate textures onthe suit folds, metallic connectors, and scuffed surfaces show wear and realism. the background is pitchblack, creating dramatic contrast and focus on the helmet reflection.',
    'A cinematic view of Earth from space, with swirling clouds and deep blue oceans. The curvature of the planet creates a stunning horizon line against the black void. City lights twinkle across the night side, while the day side glows with vibrant colors of land and sea.',
    'An ethereal nebula with vibrant purples, pinks, and blues forming cosmic clouds. Stars of varying brightness dot the scene, creating depth and wonder. Wispy gas formations spiral elegantly through space, illuminated by distant stellar light.',
    'A futuristic space station orbiting a distant planet. Solar panels extend like wings, catching starlight. Windows glow with warm interior lighting. The station\'s modular design shows advanced engineering against the backdrop of a ringed gas giant.',
    'Deep space view showcasing countless galaxies, each a swirling collection of billions of stars. The vastness creates a humbling perspective, with spiral and elliptical galaxies visible at various distances. Cosmic dust creates subtle hazes between celestial bodies.'
  ];

  let currentDescIndex = 0;
  let isGenerating = false;

  // 获取生成按钮和描述文本元素
  const generateBtn = document.getElementById('generateBtn');
  const descriptionText = document.getElementById('bannerDescription');

  // 打字机效果函数
  function typeWriter(text, element, speed = 20) {
    return new Promise((resolve) => {
      let i = 0;
      // 清空当前内容（保留按钮）
      const button = element.querySelector('.generate-icon-btn');
      element.textContent = '';
      if (button) element.appendChild(button);

      function type() {
        if (i < text.length) {
          // 在按钮前插入文字
          const textNode = document.createTextNode(text.charAt(i));
          element.insertBefore(textNode, button);
          i++;
          setTimeout(type, speed);
        } else {
          resolve();
        }
      }
      type();
    });
  }

  // 生成按钮点击事件
  if (generateBtn && descriptionText) {
    generateBtn.addEventListener('click', async function(e) {
      e.preventDefault();

      if (isGenerating) return; // 防止重复点击

      isGenerating = true;
      generateBtn.style.opacity = '0.5';
      generateBtn.style.pointerEvents = 'none';

      // 切换到下一个描述
      currentDescIndex = (currentDescIndex + 1) % descriptions.length;
      const newText = descriptions[currentDescIndex];

      // 执行打字机效果
      await typeWriter(newText, descriptionText, 15);

      isGenerating = false;
      generateBtn.style.opacity = '1';
      generateBtn.style.pointerEvents = 'auto';
    });
  }
})();
</script>
