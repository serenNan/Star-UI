<!-- ================================
     Banner 区域 - 宇航员全屏背景设计
     ================================ -->

<style>
/* ================================
   Banner 专属样式
   ================================ */

/* 1. 基础布局 - 宇航员全屏背景（延伸到导航栏上方）*/
.banner {
  position: relative;
  min-height: 100vh;
  background-image: url('sections/banner/1.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  padding-top: calc(var(--nav-height) + var(--spacing-lg)); /* 减小顶部内边距 */
  padding-bottom: calc(22rem + var(--spacing-2xl)); /* 增加底部内边距，为卡片留出空间 */
  overflow: visible; /* 允许内容溢出，确保卡片可见 */
}

/* 深色渐变遮罩层 - 已移除 */
/* .banner::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to right,
    rgba(0, 0, 0, 0.2) 0%,
    rgba(0, 0, 0, 0.1) 50%,
    rgba(0, 0, 0, 0.15) 100%
  );
  z-index: 0;
} */

/* 星空背景效果 */
.banner::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image:
    radial-gradient(2px 2px at 20% 30%, white, transparent),
    radial-gradient(2px 2px at 60% 70%, white, transparent),
    radial-gradient(1px 1px at 50% 50%, white, transparent),
    radial-gradient(2px 2px at 80% 10%, white, transparent),
    radial-gradient(1px 1px at 30% 80%, white, transparent);
  background-size: 200px 200px;
  opacity: 0.2;
  pointer-events: none;
  z-index: 1;
}

.banner-container {
  position: relative;
  max-width: 100%; /* 使用全宽，不限制容器宽度 */
  margin: 0 auto;
  padding: 0 3rem; /* 减小左右内边距 */
  height: 100%;
  z-index: 2;
}

/* 2. 左侧内容区 */
.banner-left {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-md); /* 减小内部间距 */
  max-width: 800px; /* 调整最大宽度 */
  margin: 0 auto; /* 改为居中 */
  text-align: center; /* 子元素文字居中 */
  z-index: 3;
}

.banner-title {
  font-size: clamp(1.75rem, 3.5vw, 3rem); /* 减小字体：从 2.5-4.5rem 改为 2-3.5rem */
  font-weight: 700;
  line-height: 1.2; /* 设置行高 */
  color: var(--color-text);
  margin: 0;
  margin-bottom: var(--spacing-xs); /* 减小与下方元素的间距：从 lg 改为 md */
  letter-spacing: -0.02em;
  max-width: 700px; /* 限制最大宽度，确保保持两行 */
  text-align: center;
  margin-left: auto;
  margin-right: auto;
}

.banner-subtitle {
  font-size: clamp(0.875rem, 1.5vw, 1rem);
  line-height: 1.6;
  color: var(--color-text-secondary);
  margin: 0;
  margin-bottom: var(--spacing-xs);
  max-width: 500px;
  text-align: center;
  margin-left: auto;
  margin-right: auto;
}

/* 搜索框区域 */
.search-box-container {
  position: relative;
  width: 100%;
  max-width: 700px;
  margin: 0 auto;
}

.search-input {
  width: 100%;
  padding: 14px 140px 14px 20px; /* 右侧留出按钮位置 */
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 10px;
  color: var(--color-text);
  font-size: 0.95rem;
  font-family: inherit;
  transition: all var(--transition);
  backdrop-filter: blur(10px);
}

.search-input::placeholder {
  color: rgba(255, 255, 255, 0.5);
}

.search-input:focus {
  outline: none;
  border-color: rgba(255, 255, 255, 0.4);
  background: rgba(255, 255, 255, 0.15);
  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

.btn-run-engine {
  position: absolute;
  right: 6px;
  top: 50%;
  transform: translateY(-50%);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 12px 24px;
  background: white;
  color: black;
  font-size: 1rem;
  font-weight: 600;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: transform var(--transition), box-shadow var(--transition), background var(--transition);
  white-space: nowrap;
}

.btn-run-engine:hover {
  transform: translateY(calc(-50% - 2px));
  box-shadow: 0 8px 24px rgba(255, 255, 255, 0.3);
  background: rgba(255, 255, 255, 0.95);
}

/* 3. 右下角背景切换卡片区 - 水平排列不换行 */
.video-cards-container {
  position: absolute; /* 相对于 banner-container 定位 */
  left: 50%; /* 居中定位 */
  transform: translateX(-50%);
  bottom: -22rem; /* 距离浏览器底部固定距离 */
  z-index: 100; /* 提高层级,确保在所有内容之上 */
  overflow: hidden; /* 隐藏溢出部分 */
  width: calc(5 * 81px + 4 * 1rem); /* 显示5张卡片及间距 */
  padding: 1.25rem 0; /* 为放大卡片预留垂直空间 */
}

.video-cards-grid {
  display: flex;
  gap: 1rem; /* 间距 16px */
  flex-wrap: nowrap; /* 禁止换行 */
  align-items: center; /* 垂直居中对齐 */
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1); /* 滑动动画 */
  will-change: transform; /* 性能优化 */
}

/* 单个卡片包装器（包含标题）*/
.video-card-wrapper {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  flex-shrink: 0; /* 防止收缩 */
  position: relative; /* 为 z-index 生效创建定位上下文 */
  z-index: 10; /* 确保包装器也在高层级 */
}

/* 卡片标题（显示在卡片下方）*/
.card-title {
  font-size: 0.6rem; /* 减小字体：从 0.75rem 改为 0.65rem */
  font-weight: 600;
  color: var(--color-text);
  text-align: left; /* 左侧对齐 */
  letter-spacing: 0.05em;
  white-space: nowrap;
  order: 2; /* 标题排在后面 */
}

/* 卡片主体 */
.video-card {
  order: 1; /* 卡片排在前面 */
}

/* 背景切换卡片 - 更长的高度 */
.video-card {
  position: relative;
  width: 81px; /* 减小宽度：从 90px 改为 70px */
  height: 108px; /* 减小高度：从 120px 改为 100px */
  border-radius: 4px; /* 减小圆角：从 6px 改为 3px */
  overflow: hidden;
  cursor: pointer;
  background: var(--color-bg-secondary);
  border: 1px solid transparent; /* 默认透明边框 */
  transform: scale(0.7);
  opacity: 0.6;
  z-index: 1;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 选中状态 - 外围白色边框 */
.video-card.active {
  transform: scale(1);
  opacity: 1;
  z-index: 3;
  outline: 1px solid white;
  outline-offset: 1.5px;
  box-shadow: 0 8px 24px rgba(255, 255, 255, 0.25);
}

.video-card:hover {
  transform: scale(0.74);
  z-index: 20; /* 悬浮时进一步提高层级 */
}

.video-card.adjacent:hover {
  transform: scale(0.88);
}

.video-card.active:hover {
  transform: scale(1.02);
}

/* 相邻卡片 - 第二层 */
.video-card.adjacent {
  transform: scale(0.85);
  opacity: 0.8;
  z-index: 2;
}

/* 卡片图片 */
.video-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 5. 响应式样式 */

/* 平板端 (768px - 991px) */
@media (max-width: 991px) {
  /* Banner 主容器 - 改为自动高度,允许卡片溢出 */
  .banner {
    min-height: auto;
    padding-top: calc(var(--nav-height) + var(--spacing-2xl));
    padding-bottom: var(--spacing-3xl);
    background-position: center center;
    overflow-x: hidden; /* 只隐藏横向溢出 */
    overflow-y: visible; /* 允许纵向溢出,卡片向上浮动不被裁剪 */
  }

  /* 内容容器 - 改为垂直流式布局,居中对齐 */
  .banner-container {
    display: flex;
    flex-direction: column;
    align-items: center;  /* 所有子元素水平居中 */
    gap: var(--spacing-xl);
    padding: 0 2rem;
  }

  /* 左侧内容区 - 占满宽度,居中对齐 */
  .banner-left {
    max-width: 100%;
    margin-left: 0;
    text-align: center;  /* 文字居中 */
    display: flex;
    flex-direction: column;
    align-items: center;  /* 子元素居中 */
  }

  /* 标题和副标题居中 */
  .banner-title,
  .banner-subtitle {
    text-align: center;
    margin-left: auto;
    margin-right: auto;
  }

  /* 卡片容器 - 改为静态定位 + 水平滚动,居中对齐 */
  .video-cards-container {
    position: static;
    right: auto;
    left: auto;
    transform: none;
    bottom: auto;
    max-width: 100%;
    width: 100%;
    margin: 0 auto;
    overflow-x: auto;
    overflow-y: visible; /* 改为 visible,允许卡片向上浮动 */
    padding: 1rem; /* 增加上下 padding,为悬浮效果留空间 */
    display: flex;
    justify-content: center;  /* 卡片网格居中 */
  }

  /* 卡片网格 - 支持滚动 */
  .video-cards-grid {
    gap: 0.75rem;
    padding: var(--spacing-sm) 0; /* 上下留出空间 */
    justify-content: center;  /* 卡片居中 */
  }

  .video-card-wrapper {
    flex-shrink: 0;
  }

  /* 滚动条美化 */
  .video-cards-container::-webkit-scrollbar {
    height: 6px;
  }

  .video-cards-container::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 3px;
  }

  .video-cards-container::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
  }

  .video-cards-container::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  /* 滚动提示渐变遮罩 */
  .video-cards-container::after {
    content: '';
    position: absolute;
    right: 0;
    top: 0;
    bottom: 6px;
    width: 40px;
    background: linear-gradient(to left, var(--color-bg), transparent);
    pointer-events: none;
  }
}

/* 移动端 (< 768px) */
@media (max-width: 767px) {
  /* Banner 容器 */
  .banner {
    padding-top: calc(var(--nav-height) + var(--spacing-xl));
    padding-bottom: var(--spacing-2xl);
    min-height: auto;
  }

  /* 内容容器 - 减小左右边距,确保居中 */
  .banner-container {
    padding: 0 1.5rem;
    gap: var(--spacing-lg);
    align-items: center;  /* 强制所有子元素居中 */
  }

  /* 左侧内容 - 居中对齐 */
  .banner-left {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
  }

  .banner-title {
    font-size: 2rem;
    max-width: 100%;
    text-align: center;
  }

  .banner-subtitle {
    font-size: 0.875rem;
    max-width: 100%;
    text-align: center;
  }

  /* 搜索框 - 居中显示 */
  .search-box-container {
    max-width: 100%;
  }

  .search-input {
    padding: 12px 120px 12px 16px;
    font-size: 0.9rem;
  }

  .btn-run-engine {
    padding: 10px 20px;
    font-size: 0.9rem;
    right: 4px;
  }

  /* 卡片 */
  .video-card {
    width: 100px;
    height: 133px; /* 保持比例: 100/81 * 108 ≈ 133 */
  }

  .card-title {
    font-size: 0.75rem;
  }
}

/* 小屏手机 (< 480px) */
@media (max-width: 479px) {
  .banner-container {
    padding: 0 var(--spacing-md);
    align-items: center;  /* 确保居中 */
  }

  .banner-title {
    font-size: clamp(1.5rem, 8vw, 1.75rem);
    text-align: center;
  }

  .banner-subtitle {
    text-align: center;
  }

  .search-input {
    padding: 12px 110px 12px 14px;
  }

  .btn-run-engine {
    padding: 10px 16px;
    font-size: 0.85rem;
    right: 3px;
  }

  .video-card {
    width: 85px;
    height: 113px; /* 保持比例: 85/81 * 108 ≈ 113 */
  }

  .card-title {
    font-size: 0.7rem;
  }
}

/* 触摸设备优化 */
@media (max-width: 991px) {
  /* 触摸反馈 */
  .video-card:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
  }

  .btn-run-engine:active {
    transform: translateY(-50%) scale(0.98);
  }
}

/* 禁用移动端悬浮效果 */
@media (hover: none) {
  .video-card:hover {
    transform: scale(0.7);
  }

  .btn-run-engine:hover {
    transform: translateY(-50%);
    box-shadow: none;
    background: white;
  }
}

/* 性能优化 - 禁用动画偏好 */
@media (prefers-reduced-motion: reduce) {
  .video-card,
  .btn-run-engine {
    transition: none !important;
  }

  .banner::before {
    animation: none !important;
  }
}
</style>

<!-- HTML 结构 -->
<section class="banner">
  <div class="banner-container">
    <!-- 左侧内容区 -->
    <div class="banner-left">
      <h1 class="banner-title">
        WHERE IMAGINATION ECLIPSES REALITY
      </h1>

      <p class="banner-subtitle">
        Built For Brands, Artists, And Creators.
      </p>

      <div class="search-box-container">
        <input
          type="text"
          class="search-input"
          placeholder="ultra-realistic close-up of an astronaut in a detailed white space suit, standing in the darkness of outer space..."
        >
        <button class="btn-run-engine" type="button">Run Engine</button>
      </div>
    </div>

    <!-- 右下角背景切换卡片 - 水平排列不换行 -->
    <div class="video-cards-container">
      <div class="video-cards-grid">
        <!-- 背景切换卡片 1 -->
        <div class="video-card-wrapper">
          <div class="video-card active" data-bg-index="0">
            <img src="sections/banner/1.png" alt="AI SCROLL Background">
          </div>
          <div class="card-title">AI SCROLL</div>
        </div>

        <!-- 背景切换卡片 2 -->
        <div class="video-card-wrapper">
          <div class="video-card" data-bg-index="1">
            <img src="sections/banner/2.jpg" alt="AI SCROLL Background">
          </div>
          <div class="card-title">AI SCROLL</div>
        </div>

        <!-- 背景切换卡片 3 -->
        <div class="video-card-wrapper">
          <div class="video-card" data-bg-index="2">
            <img src="sections/banner/3.png" alt="AI SCROLL Background">
          </div>
          <div class="card-title">AI SCROLL</div>
        </div>

        <!-- 背景切换卡片 4 -->
        <div class="video-card-wrapper">
          <div class="video-card" data-bg-index="3">
            <img src="sections/banner/4.png" alt="AI SCROLL Background">
          </div>
          <div class="card-title">AI SCROLL</div>
        </div>

        <!-- 背景切换卡片 5 -->
        <div class="video-card-wrapper">
          <div class="video-card" data-bg-index="4">
            <img src="sections/banner/5.png" alt="AI SCROLL Background">
          </div>
          <div class="card-title">AI SCROLL</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- JavaScript 交互逻辑 -->
<script>
(function() {
  'use strict';

  const backgrounds = [
    'sections/banner/1.png',
    'sections/banner/2.jpg',
    'sections/banner/3.png',
    'sections/banner/4.png',
    'sections/banner/5.png'
  ];

  const DESKTOP_BREAKPOINT = 992;
  const VISIBLE_COUNT = 5;
  const CENTER_OFFSET = Math.floor(VISIBLE_COUNT / 2); // 2
  const CLONE_COUNT = CENTER_OFFSET; // 2 个卡片缓存区
  const TRANSITION_MS = 500;
  const TRANSITION_EASING = 'cubic-bezier(0.4, 0, 0.2, 1)';

  const banner = document.querySelector('.banner');
  const cardsContainer = document.querySelector('.video-cards-container');
  const grid = document.querySelector('.video-cards-grid');
  if (!grid) {
    initSearchBox();
    return;
  }

  const originalWrappers = Array.from(grid.querySelectorAll('.video-card-wrapper'));
  if (!originalWrappers.length) {
    initSearchBox();
    return;
  }

  const templates = originalWrappers.map((wrapper, index) => {
    const clone = wrapper.cloneNode(true);
    clone.dataset.cardIndex = index;
    const card = clone.querySelector('.video-card');
    if (card) {
      card.dataset.cardIndex = index;
      card.classList.remove('active', 'adjacent'); // 清理所有状态类名
    }
    return clone;
  });
  const totalCards = templates.length;
  let stepSize = 0;

  let activeIndex = (() => {
    const activeCard = grid.querySelector('.video-card.active');
    if (activeCard) {
      const idx = parseInt(activeCard.getAttribute('data-bg-index'), 10);
      if (!Number.isNaN(idx)) return idx % totalCards;
    }
    return CENTER_OFFSET;
  })();

  let currentMode = null;
  let isAnimating = false;

  function applyBackgroundByIndex(index) {
    if (!banner) return;
    const bg = backgrounds[index % backgrounds.length];
    if (bg) {
      banner.style.backgroundImage = `url('${bg}')`;
    }
  }

  function measureStepSize() {
    const sample = grid.querySelector('.video-card-wrapper');
    if (!sample) return;
    const gap = parseFloat(window.getComputedStyle(grid).gap) || 0;
    stepSize = sample.getBoundingClientRect().width + gap;
  }

  function buildCarouselGrid() {
    grid.innerHTML = '';
    const newCards = [];

    for (let offset = -CLONE_COUNT; offset < totalCards + CLONE_COUNT; offset++) {
      const idx = (activeIndex + offset + totalCards) % totalCards;
      const node = templates[idx].cloneNode(true);
      node.dataset.cardIndex = idx;
      const card = node.querySelector('.video-card');
      if (card) {
        card.dataset.cardIndex = idx;
        card.classList.remove('active', 'adjacent'); // 确保干净
        card.style.transition = 'none'; // 禁用 transition
        newCards.push(card);
      }
      grid.appendChild(node);
    }

    measureStepSize();
    updateCarouselClasses(); // 先设置类名
    resetCarouselTransform(); // 再重置 transform

    // 强制 reflow 后重新启用 transition
    grid.offsetHeight;
    requestAnimationFrame(() => {
      newCards.forEach(card => {
        card.style.transition = ''; // 恢复 CSS 定义的 transition
      });
    });
  }

  function resetCarouselTransform() {
    const base = -(CLONE_COUNT * stepSize);
    grid.style.transition = 'none';
    grid.style.transform = `translateX(${base}px)`;
    grid.offsetHeight; // force reflow
    grid.style.transition = `transform ${TRANSITION_MS}ms ${TRANSITION_EASING}`;
  }

  function updateCarouselClasses() {
    const wrappers = Array.from(grid.children);
    wrappers.forEach((wrapper, idx) => {
      const card = wrapper.querySelector('.video-card');
      if (!card) return;
      card.classList.remove('active', 'adjacent');
      const visibleStart = CLONE_COUNT;
      const visibleEnd = CLONE_COUNT + VISIBLE_COUNT - 1;
      const centerPos = visibleStart + CENTER_OFFSET;
      if (idx >= visibleStart && idx <= visibleEnd) {
        if (idx === centerPos) {
          card.classList.add('active');
        } else if (idx === centerPos - 1 || idx === centerPos + 1) {
          card.classList.add('adjacent');
        }
      }
    });
    applyBackgroundByIndex(activeIndex);
  }

  function previewClassesForDirection(direction) {
    const wrappers = Array.from(grid.children);
    const centerPos = CLONE_COUNT + CENTER_OFFSET;
    const nextCenter = centerPos + (direction === 'left' ? 1 : -1);
    wrappers.forEach((wrapper, idx) => {
      const card = wrapper.querySelector('.video-card');
      if (!card) return;
      card.classList.remove('active', 'adjacent');
      if (idx === nextCenter) {
        card.classList.add('active');
      } else if (idx === nextCenter - 1 || idx === nextCenter + 1) {
        card.classList.add('adjacent');
      }
    });
  }

  function animateSlide(direction) {
    return new Promise((resolve) => {
      if (!stepSize) {
        resolve();
        return;
      }
      const base = -(CLONE_COUNT * stepSize);
      const target = direction === 'left'
        ? base - stepSize
        : base + stepSize;

      previewClassesForDirection(direction);

      const handleEnd = (event) => {
        if (event.target !== grid) return;
        grid.removeEventListener('transitionend', handleEnd);
        resolve();
      };

      grid.addEventListener('transitionend', handleEnd);
      requestAnimationFrame(() => {
        grid.style.transform = `translateX(${target}px)`;
      });
    });
  }

  async function slide(direction, steps) {
    if (isAnimating) return;
    isAnimating = true;
    for (let i = 0; i < steps; i++) {
      await animateSlide(direction);
      activeIndex = (activeIndex + (direction === 'left' ? 1 : -1) + totalCards) % totalCards;
      buildCarouselGrid();
    }
    isAnimating = false;
  }

  function handleCarouselClick(event) {
    const card = event.target.closest('.video-card');
    if (!card || isAnimating) return;
    const wrapper = card.closest('.video-card-wrapper');
    const wrappers = Array.from(grid.children);
    const targetPos = wrappers.indexOf(wrapper);
    const centerPos = CLONE_COUNT + CENTER_OFFSET;
    if (targetPos === -1 || targetPos === centerPos) {
      applyBackgroundByIndex(activeIndex);
      return;
    }
    const direction = targetPos > centerPos ? 'left' : 'right';
    const steps = Math.abs(targetPos - centerPos);
    slide(direction, steps);
  }

  function buildStaticGrid() {
    grid.innerHTML = '';
    templates.forEach((template) => {
      const node = template.cloneNode(true);
      node.dataset.cardIndex = template.dataset.cardIndex;
      const card = node.querySelector('.video-card');
      if (card) card.dataset.cardIndex = template.dataset.cardIndex;
      grid.appendChild(node);
    });
    updateStaticClasses();
  }

  function updateStaticClasses() {
    const wrappers = Array.from(grid.children);
    wrappers.forEach((wrapper, idx) => {
      const card = wrapper.querySelector('.video-card');
      if (!card) return;
      card.classList.remove('active', 'adjacent');
      if (idx === activeIndex) {
        card.classList.add('active');
      } else if (idx === activeIndex - 1 || idx === activeIndex + 1) {
        card.classList.add('adjacent');
      }
    });
    applyBackgroundByIndex(activeIndex);
  }

  function handleStaticClick(event) {
    const card = event.target.closest('.video-card');
    if (!card) return;
    const wrapper = card.closest('.video-card-wrapper');
    const index = parseInt(wrapper.dataset.cardIndex, 10);
    if (Number.isNaN(index)) return;
    activeIndex = index;
    updateStaticClasses();
    if (cardsContainer) {
      wrapper.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
    }
  }

  function initCarouselMode() {
    grid.removeEventListener('click', handleStaticClick);
    grid.addEventListener('click', handleCarouselClick);
    buildCarouselGrid();
  }

  function initStaticMode() {
    grid.removeEventListener('click', handleCarouselClick);
    grid.addEventListener('click', handleStaticClick);
    buildStaticGrid();
  }

  function handleResize() {
    const nextMode = window.innerWidth >= DESKTOP_BREAKPOINT ? 'carousel' : 'static';
    if (nextMode === currentMode) return;
    currentMode = nextMode;
    if (currentMode === 'carousel') {
      initCarouselMode();
    } else {
      initStaticMode();
    }
  }

  function initSearchBox() {
    const searchInput = document.querySelector('.search-input');
    const runEngineBtn = document.querySelector('.btn-run-engine');

    if (searchInput && runEngineBtn) {
      runEngineBtn.addEventListener('click', () => {
        const query = searchInput.value.trim();
        if (!query) {
          searchInput.focus();
          return;
        }
        console.log('Search query:', query);
      });

      searchInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          runEngineBtn.click();
        }
      });
    }
  }

  function init() {
    currentMode = window.innerWidth >= DESKTOP_BREAKPOINT ? 'carousel' : 'static';
    if (currentMode === 'carousel') {
      initCarouselMode();
    } else {
      initStaticMode();
    }
    window.addEventListener('resize', handleResize);
    initSearchBox();
  }

  init();
})();
</script>
